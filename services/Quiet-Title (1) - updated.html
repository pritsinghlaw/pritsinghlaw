<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quiet Title Actions | California Real Estate Law Firm - Law Offices of Pritpal Singh</title>
  <meta name="description" content="Clear clouds on title and resolve competing ownership claims. We handle quiet title actions across the Bay Area—conducting title chain analysis, filing CCP-compliant pleadings, serving all interested parties, and recording the court’s judgment so you can move forward with confidence.">
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://pritsinghlaw.com/payments.css">

  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
  <script>
    WebFont.load({ google: { families: ["Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic","Geologica:500,600"] }});
  </script>

  <style>
    :root { --navy:#001f54; --accent:#ff4900; --white:#fff; --gray:#f5f5f7; --shadow:0 2px 12px rgba(17,41,76,0.05); }
    body { background:var(--white); color:var(--navy); font-family:'Geologica',sans-serif; margin:0; }
    .hero { background:var(--navy); color:var(--white); padding:3rem 0 2rem; text-align:center; }
    .hero__title { font-size:2.75rem; margin-bottom:.75rem; font-weight:700; }
    .hero__subtitle { font-size:1.2rem; max-width:680px; margin:0 auto 1.5rem; }
    .btn { display:inline-block; font-family:inherit; font-size:1rem; padding:.75rem 1.5rem; border-radius:15px; cursor:pointer; transition:.3s; text-decoration:none; border:none; background:#001f54; color:#fff; }
    .btn:hover { background:#00306e; transform:translateY(-2px) scale(1.02); }
    .btn--secondary { background:#fff; color:#001f54; border:2px solid #001f54; }
    .btn--secondary:hover { background:#f0f4ff; color:#001f54; transform:translateY(-2px) scale(1.02); }
    .container { max-width:1000px; margin:0 auto; padding:0 2rem; }
    section.section { padding:2.5rem 0; }
    .section__title { color:var(--navy); font-size:2rem; margin-bottom:.6em; position:relative; }
    .section__title:after { content:""; display:block; width:36px; height:3px; background:var(--accent); margin-top:10px; border-radius:2px; }
    .section--intro p { font-size:1.15rem; margin-bottom:1rem; line-height:1.5; }
    .card-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(300px,1fr)); gap:2rem; margin-top:2rem; }
    .card { background:var(--gray); border-radius:8px; box-shadow:var(--shadow); padding:1.5rem 1.3rem 1.1rem; display:flex; flex-direction:column; }
    .card__title { color:var(--accent); font-size:1.23rem; font-weight:700; margin-bottom:.65em; }
    .card__text { color:#23395d; flex-grow:1; font-size:1.05rem; margin-bottom:1em; }
    .list--bullets { padding-left:1.25em; margin-bottom:0; color:#23395d; }
    .list--bullets li { margin-bottom:.5em; font-size:1.1rem; }
    .section--why-us { background:var(--gray); border-radius:8px; }
    .footer-main { background:var(--navy); color:var(--white); padding:2.5rem 0 1.75rem; text-align:center; margin-top:2.25rem; }
    .footer-main .footer__title { margin-bottom:.5em; font-weight:700; font-size:1.5rem; }
    .footer-main p { margin-bottom:2em; }
    .contact-form { max-width:450px; margin:0 auto; display:flex; flex-direction:column; gap:1.1em; }
    .contact-form input, .contact-form textarea { padding:.75em; font-size:1em; border-radius:4px; border:1px solid #ccd8ed; outline:none; width:100%; background:var(--white); color:var(--navy); }
    .contact-form textarea { min-height:100px; resize:vertical; }
    .footer-copy { font-size:.98em; color:#bbc9df; padding:1em 0 .3em; border-top:1px solid rgba(255,255,255,0.09); margin:2em 0 0; }
    @media (max-width:700px){ .container{padding:0 1rem;} .card-grid{grid-template-columns:1fr;} .hero__title{font-size:2rem;} }
    .backbtn { position:fixed; height:60px; width:60px; right:40px; bottom:20px; background-color:#ff4900; color:#ffffff; border-radius:50px; text-align:center; box-shadow:2px 2px 3px #999; }
    h1,h2,h3,h4,h5,.hero__title,.card__title,.section__title{ font-family:'Geologica',sans-serif!important; font-weight:500!important; }
  </style>
 <!---MOBILE NAVIGATION--->
  <style>
/* ==== Mobile drawer + hamburger ==== */
.navbar{ background:var(--navy); color:var(--white); }
.nav-container{ display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px 16px; }
.hamburger{ display:inline-flex; flex-direction:column; gap:5px; padding:10px; background:transparent; border:0; cursor:pointer; }
.hamburger-line{ width:26px; height:3px; background:#fff; border-radius:2px; transition:.25s; }
.hamburger.is-active .hamburger-line:nth-child(1){ transform:translateY(8px) rotate(45deg); }
.hamburger.is-active .hamburger-line:nth-child(2){ opacity:0; }
.hamburger.is-active .hamburger-line:nth-child(3){ transform:translateY(-8px) rotate(-45deg); }

/* Drawer container */
.nav-menu{
  position:fixed; top:0; right:0; height:100vh; width:min(86vw,360px);
  background:#fff; color:var(--navy);
  box-shadow:-8px 0 24px rgba(0,0,0,.18);
  transform:translateX(100%); transition:transform .3s ease;
  z-index:1001; display:flex; flex-direction:column; padding:24px 18px 28px;
}
.nav-menu.open{ transform:translateX(0); }
.drawer-overlay{
  position:fixed; inset:0; background:rgba(0,0,0,.35);
  opacity:0; pointer-events:none; transition:opacity .3s ease; z-index:10010 !important;
}
.drawer-overlay.show{ opacity:1;
  pointer-events:auto;
  /* carve out the drawer width so overlay never covers it (iOS-safe) */
  clip-path: inset(0 calc(min(86vw, 360px)) 0 0); }
.no-scroll{ overflow:hidden; }

.nav-list{ list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:12px; }
.nav-item .nav-link{ color:var(--navy); text-decoration:none; font-weight:600; padding:10px 8px; display:block; border-radius:8px; }
.nav-item .nav-link:hover{ background:var(--gray); }
.nav-divider{ height:1px; background:#e6eaf0; margin:16px 0; }
.nav-actions{ margin-top:8px; display:flex; flex-direction:column; gap:12px; }
.phone-link,.email-link{ color:var(--navy); text-decoration:none; font-weight:600; }
.email-link{ font-weight:500; }

/* Desktop layout */
.nav-actions-desktop{ display:none; gap:12px; align-items:center; }
@media (min-width:900px){
  .nav-menu{
    position:static; height:auto; width:auto; transform:none; box-shadow:none; background:transparent;
    flex-direction:row; align-items:center; gap:18px; padding:0;
  }
  .nav-list{ flex-direction:row; gap:18px; }
  .nav-item .nav-link{ color:#fff; padding:6px 8px; }
  .nav-actions{ display:none; }
  .nav-actions-desktop{ display:flex; }
  .hamburger{ display:none; }
}

/* Alias to match requested class name */
.btn-secondary{ background:#fff; color:#001f54; border:2px solid #001f54; }
.btn-secondary:hover{ background:#f0f4ff; color:#001f54; }

  
  /* --- Drawer: default closed state (mobile) --- */
#nav-menu{
  position:fixed; top:0; right:0;
  height:100vh; /* or 100dvh for iOS 17+ */
  width:min(86vw,360px);
  background:#fff; color:var(--navy);
  box-shadow:-8px 0 24px rgba(0,0,0,.18);
  transform:translateX(100%) !important;   /* keep off-canvas */
  visibility:hidden;                        /* no flash on load */
  opacity:0;                                /* fade in/out */
  pointer-events:none;                      /* don't trap taps */
  transition:transform .32s ease, opacity .16s linear, visibility 0s linear .32s;
  z-index:10020 !important; display:flex; flex-direction:column; padding:24px 18px 28px;
}

/* Open state set by JS */
#nav-menu.open{
  transform:translateX(0) !important;
  visibility:visible;
  opacity:1;
  pointer-events:auto;
  transition:transform .32s ease, opacity .16s linear;
}

/* Overlay */
.drawer-overlay{
  position:fixed; inset:0; background:rgba(0,0,0,.35);
  opacity:0; pointer-events:none; transition:opacity .3s ease; z-index:10010 !important; 
}
.drawer-overlay.show{ opacity:1; pointer-events:auto; }

/* Desktop reset (do not use the off-canvas layout) */
@media (min-width:900px){
  #nav-menu{
    position:static; height:auto; width:auto;
    transform:none !important; visibility:visible; opacity:1; pointer-events:auto;
    background:transparent; box-shadow:none; padding:0;
  }
}
  
  </style>
    

  <!-- Webflow/Nav styles from sample -->
  <link href="https://assets-global.website-files.com/64785fe0a8b931af3b0da218/css/sterlingelysium.79c73a7ef.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
  <script>WebFont.load({google:{families:["Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic","Geologica:500,600"]}});</script>
  <script>!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>


<style id="nav-dropdown-fix">
.navbar-menu-dropdown{ position:relative; }
.w-dropdown-toggle,.navbar-dropdwn-toggle{ display:flex; align-items:center; gap:.35rem; cursor:pointer; }
.navbar-dropdown-link{ white-space:nowrap; }
.w-dropdown-list,.navbar-dropdown-list-container{
  position:absolute; top:100%; left:0; min-width:260px; background:#fff; border-radius:12px;
  box-shadow:0 12px 28px rgba(0,0,0,.12); padding:.5rem; z-index:1000; display:none;
}
.w-dropdown.w--open > .w-dropdown-list{ display:block; }
.navbar-dropdown-list-container{ max-height:70vh; overflow-y:auto; width:max-content; }
@media (min-width:768px){ .menu-item-container{ display:grid; grid-template-columns:repeat(2,1fr); gap:.75rem 1.25rem; } }
@media (max-width:991px){
  .w-nav-menu{ overflow-y:auto; }
  .w-dropdown-list,.navbar-dropdown-list-container{ position:static !important; max-height:none !important; box-shadow:none; border-radius:0; padding:.25rem 0; display:none; }
  .w-dropdown.w--open > .w-dropdown-list{ display:block; }
  .navbar-dropdown-link{ display:block; padding:12px 20px; border-bottom:1px solid #eee; }
  .navbar-dropdown-link:hover{ background:#f5f5f5; }
}
</style>
<style id="nav-dropdown-fix-z">
  .w-dropdown-list,.navbar-dropdown-list-container{ z-index: 9999 !important; }
  @media (min-width: 992px){ .w-nav-overlay{ pointer-events: none !important; } }
</style>

</head>
<body>

  <!-- NEW HEADER NAV (Webflow) -->
      <div data-animation="default" class="navbar-component w-nav" data-easing2="ease" fs-scrolldisable-element="smart-nav" data-easing="ease" data-collapse="medium" data-w-id="b62916c8-25c1-48a4-c0e8-4b5699b25d10" role="banner" data-duration="400"><div class="container-large"><div class="navbar-container"><a href="/" class="navbar-logo-link w-nav-brand" aria-label="home"><img src="/colornobg.svg" width="200" height="auto" loading="lazy" alt="Pritpal Singh logo" class="navbar-logo hide-tablet"><img src="/icon.png" width="80" height="auto" loading="lazy" alt="Law Offices of Pritpal Singh logo" class="navbar-logo hide-desktop"></a>
  
<nav role="navigation" id="w-node-b62916c8-25c1-48a4-c0e8-4b5699b25d14-99b25d10" class="navbar-menu page-height-tablet w-nav-menu">
  <a href="/" class="navbar-link w-nav-link">Home</a>

<!---ABOUT---->
  
   <div data-hover="true" data-delay="200" data-w-id="b62916c8-25c1-48a4-c0e8-4b5699b25d1b" class="navbar-menu-dropdown w-dropdown">
    <div class="navbar-dropdwn-toggle w-dropdown-toggle">
      <div class="dropdown-icon w-embed">
        <svg width="100%" height="100%" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M2.55806 6.29544C2.46043 6.19781 2.46043 6.03952 2.55806 5.94189L3.44195 5.058C3.53958 4.96037 3.69787 4.96037 3.7955 5.058L8.00001 9.26251L12.2045 5.058C12.3021 4.96037 12.4604 4.96037 12.5581 5.058L13.4419 5.94189C13.5396 6.03952 13.5396 6.19781 13.4419 6.29544L8.17678 11.5606C8.07915 11.6582 7.92086 11.6582 7.82323 11.5606L2.55806 6.29544Z" fill="currentColor"></path>
        </svg>
      </div>
      <div>About</div>
    </div>

   <!-- ✅ 2-column wrapper gets the new grid rules -->
    <nav class="navbar-dropdown-list-container text-size-large-1 shadow-navbar w-dropdown-list">
      <div class="navbar-dropdown-list-wrapper flex-horizontal">
        <div class="navbar-dropdown-list">
       
           
          <!-- ✅ Grid parent -->
          <div class="menu-item-container flex-horizontal">
            <div class="menu-item-wrapper">
              <a href="/about" class="navbar-dropdown-link w-dropdown-link">Company Profile</a>
              <a href="/knowledge-base" target="_blank" class="navbar-dropdown-link w-dropdown-link">Knowledge Base</a>
              <a href="https://newsroom.pritsinghlaw.com" target="_blank" class="navbar-dropdown-link w-dropdown-link">News & Insights</a>
              <br>

            </div></div>
              
 <div class="menu-title-wrapper">
            <div class="heading-style-h6 text-color-navy">Our Team</div>
          </div> 
              
 <!-- ✅ Grid parent -->
          <div class="menu-item-container flex-horizontal">
            <div class="menu-item-wrapper">
              <a href="https://pritsinghlaw.com/team/pritpal-singh" target="_blank" class="navbar-dropdown-link w-dropdown-link">Pritpal Singh, Esq - Lead Attorney</a>
              <a href="https://pritsinghlaw.com/team/michael-chigbu" target="_blank" class="navbar-dropdown-link w-dropdown-link">Michael E. Chigbu - Legal Assistant</a>
              <a href="https://pritsinghlaw.com/careers" target="_blank" class="navbar-dropdown-link w-dropdown-link">Careers/Vacancies - Work With Us</a>
              </div>
            </div>
          </div>
      </div>
    
    </nav>
  </div>


  

  <!---SERVICES--->
  <div data-hover="true" data-delay="200" data-w-id="b62916c8-25c1-48a4-c0e8-4b5699b25d1b" class="navbar-menu-dropdown w-dropdown">
    <div class="navbar-dropdwn-toggle w-dropdown-toggle">
      <div class="dropdown-icon w-embed">
        <svg width="100%" height="100%" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M2.55806 6.29544C2.46043 6.19781 2.46043 6.03952 2.55806 5.94189L3.44195 5.058C3.53958 4.96037 3.69787 4.96037 3.7955 5.058L8.00001 9.26251L12.2045 5.058C12.3021 4.96037 12.4604 4.96037 12.5581 5.058L13.4419 5.94189C13.5396 6.03952 13.5396 6.19781 13.4419 6.29544L8.17678 11.5606C8.07915 11.6582 7.92086 11.6582 7.82323 11.5606L2.55806 6.29544Z" fill="currentColor"></path>
        </svg>
      </div>
      <div>Practice Areas</div>
    </div>

   <!-- ✅ 2-column wrapper gets the new grid rules -->
    <nav class="navbar-dropdown-list-container text-size-large-1 shadow-navbar w-dropdown-list">
      <div class="navbar-dropdown-list-wrapper flex-horizontal">
        <div class="navbar-dropdown-list">
          
          
          <!--- <div class="menu-title-wrapper">
            <div class="heading-style-h6 text-color-navy">Practice Areas</div>
          </div> --->

          <!-- ✅ Grid parent -->
          <div class="menu-item-container flex-horizontal">
            <div class="menu-item-wrapper">
              <a href="/services/real-estate-litigation" class="navbar-dropdown-link w-dropdown-link">Real Estate Litigation</a>
              <a href="/services/Landlord-Tenant-Matter" class="navbar-dropdown-link w-dropdown-link">Landlord Tenant Law</a>
              <a href="/services/Premises-Liability" class="navbar-dropdown-link w-dropdown-link">Premises Liability</a>
              <a href="/services/Boundary-Disputes" class="navbar-dropdown-link w-dropdown-link">Boundary Disputes</a>
              <a href="/services/Quiet-Title" class="navbar-dropdown-link w-dropdown-link">Quiet Title Actions</a>
               <a href="/services/Contract-Drafting-Review" class="navbar-dropdown-link w-dropdown-link">Contract Drafting &amp; Review</a>
              <a href="/services/Purchase-Agreements" class="navbar-dropdown-link w-dropdown-link">Purchase Agreements</a>
              <a href="/services/Adverse-Possession" class="navbar-dropdown-link w-dropdown-link">Adverse Possession Claims</a>
              <a href="/services" class="navbar-dropdown-link w-dropdown-link"><b>Browse All Practice Areas →</b></a>
              
              <!---
              <a href="/services/Easements-Encroachments" class="navbar-dropdown-link w-dropdown-link">Easements &amp; Encroachments</a>
              <a href="/services/Mortgage-Fraud" class="navbar-dropdown-link w-dropdown-link">Mortgage Fraud</a>
              <a href="/services/Foreclosure-Defense" class="navbar-dropdown-link w-dropdown-link">Foreclosure Defense</a>
              <a href="/services/Real-Estate-Closings" class="navbar-dropdown-link w-dropdown-link">Real Estate Closings</a>
              <a href="/services/Broker-Disputes" class="navbar-dropdown-link w-dropdown-link">Property Broker Disputes</a>
              <a href="/services/Property-Financing-Documents" class="navbar-dropdown-link w-dropdown-link">Property Financing Documents</a>
              <a href="/services/Title-Escrow-Disputes" class="navbar-dropdown-link w-dropdown-link">Title &amp; Escrow Disputes</a>
             ---->
              
            </div>
          </div>
        </div>
      </div>
    </nav>
  </div>


  
  
  


  
  <a href="/contact" class="navbar-link w-nav-link">Contact</a>

      
  <!-- Search functionality -->
  <div class="navbar-search-container">
    <div class="search-wrapper">
      <input type="text" class="search-input" placeholder="Search..." id="searchInput">
      <button class="search-button" onclick="performSearch()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M21 21L16.514 16.506M19 10.5C19 15.194 15.194 19 10.5 19S2 15.194 2 10.5 5.806 2 10.5 2 19 5.806 19 10.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
  </div>
</nav>
  
  <div class="navbar-button-wrapper"><!-- NEW call button -->
  <a style="font-size:10.5px!important; background-color:#001f54!important; color:#ffffff!important;" href="tel:+15104432123" class="btn btn-primary w-button">
 <b>CALL US</b>
  </a>

  <!-- EXISTING portal button, now with a user icon -->
  <a href="https://pritsinghlaw.com/client-area/login" target="_blank" class="btn btn-primary w-button"
     style="background-color:#ff4900!important; font-size:10px!important;">
  <b>CLIENT PORTAL</b>
  </a>
    
    
    <div class="navbar-menu-button w-nav-button" style="-webkit-user-select: text;" aria-label="menu" role="button" tabindex="0" aria-controls="w-nav-overlay-0" aria-haspopup="menu" aria-expanded="false"><div class="menu-icon"><div class="menu-icon-line-top"></div><div class="menu-icon-line-middle"><div class="menu-icon-line-middle-inner"></div></div><div class="menu-icon-line-bottom"></div></div></div></div></div></div><div class="w-nav-overlay" data-wf-ignore="" id="w-nav-overlay-0"></div></div>
  </div>
  <!-- /NEW HEADER NAV -->



 
  <!-- HERO -->
  <header class="hero">
    <div class="container">
      <h1 class="hero__title" style="color:white!important;">Quiet Title Actions</h1>
      <p class="hero__subtitle">
        When ownership is unclear or competing claims cloud your deed, a quiet title action is the legal reset that confirms who owns the property. We handle quiet title matters across the Bay Area—San Francisco, Oakland, Berkeley, Richmond, Fremont, and beyond—so you can sell, refinance, or build with confidence.
      </p>
      <a style="background:#ff4900!important;color:#fff!important;" href="https://pritsinghlaw.com/client-area/intake-form" data-ps-intake-open class="btn">Schedule a Quiet Title Consultation</a>
    </div>
  </header>

  <!-- INTRO -->
  <section class="section section--intro">
    <div class="container">
      <p>
        A quiet title action is a lawsuit to establish ownership of real property and “quiet” any competing claims. It’s commonly used to correct deed errors, remove wrongful liens or judgments, resolve boundary or encroachment disputes, address inheritance and trust conflicts, or clear title following adverse possession issues.
      </p>
      <p>
        We conduct full title chain analysis, prepare CCP-compliant pleadings, serve all interested parties, and record the court’s judgment—delivering clear, marketable title so your transactions aren’t stalled.
      </p>
    </div>
  </section>

  <!-- ELEMENTS -->
  <section class="section section--services">
    <div class="container">
      <h2 class="section__title">Quiet Title Actions in California</h2>
      <div class="card-grid">
        <article class="card">
          <h3 class="card__title">What Is a Quiet Title Action?</h3>
          <p class="card__text">
            It’s a court action to establish ownership and eliminate adverse or uncertain claims. Quiet title actions are governed by California Code of Civil Procedure § 760.010 et seq. and result in a recorded judgment confirming who owns the property.
          </p>
        </article>
        <article class="card">
          <h3 class="card__title">Common Situations We Handle</h3>
          <p class="card__text">
            Disputes over who owns the property; errors or ambiguities in deeds or legal descriptions; liens and judgments that shouldn’t be on title; boundary line disputes and encroachments; conflicting inheritance or trust claims; and clearing title after adverse possession claims.
          </p>
        </article>
        <article class="card">
          <h3 class="card__title">The Quiet Title Process</h3>
          <p class="card__text">
            We review the entire title chain (past deeds, liens, transfers), draft a complaint that meets CCP § 761.020, serve every person or entity with a potential claim, and record the court’s judgment—so your ownership is clear and undisputed.
          </p>
        </article>
      </div>
    </div>
  </section>

  <!-- WHY US -->
  <section class="section section--why-us">
    <div class="container">
      <h2 class="section__title">Why Choose Us for Quiet Title Cases?</h2>
      <p>
        In the Bay Area—where property is among the most valuable in the country—title issues can bring sales, refinances, and construction to a halt. We clear clouds on title, defend against fraudulent or unfounded claims, and work with title companies and escrow to keep your deals moving.
      </p>
      <a href="https://pritsinghlaw.com/client-area/intake-form" style="color:white!important;" data-ps-intake-open class="btn">Protect Your Title Now</a>
    </div>
  </section>

  <!-- LEGAL BACKGROUND -->
  <section class="section section--legal">
    <div class="container">
      <h2 class="section__title">California Law: Quiet Title</h2>
      <p>
        Quiet title actions require strict compliance with CCP §§ 760.010–764.010 and are supported by evidence such as property surveys, recorded instruments, and possession history. Courts emphasize thorough documentation, including in Lynch v. Glass (1975) 44 Cal.App.3d 943.
      </p>
    </div>
  </section>



  <!-- Global Site Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h4 class="footer-title" style="color:white!important;">Law Offices of Pritpal Singh</h4>
          <div class="footer-contact">
            <p>509 13th St<br>Oakland, CA 94612</p>
            <p><a href="tel:(510) 225-9220">(510) 225-9220</a></p>
            <p><a href="mailto:info@pritsinghlaw.com">info@pritsinghlaw.com</a></p>
          </div>
        </div>
        <div class="footer-section">
          <h4 class="footer-title" style="color:white!important;">Quick Links</h4>
          <ul class="footer-links">
            <li><a data-ps-intake-open href="/client-area/intake-form">Consultations</a></li>
            <li><a href="#">Payment Plans</a></li>
            <li><a href="#">Subscriptions</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4 class="footer-title" style="color:white!important;">Resources</h4>
          <ul class="footer-links">
            <li><a href="/about">Company Profile</a></li>
            <li><a href="https://newsroom.pritsinghlaw.com">News & Insights</a></li>
            <li><a href="https://pritsinghlaw.com/client-area/login" class="footer-link">Client Portal</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4 class="footer-title" style="color:white!important;">Follow Us</h4>
          <div class="social-links">
            <a class="social-link" target="_blank" href="https://facebook.com">Facebook</a>
            <a class="social-link" target="_blank" href="https://instagram.com/pritsinghlaw">Instagram</a>
            <a class="social-link" target="_blank" href="https://twitter.com/pritsinghlaw">Twitter</a>
            <a class="social-link" target="_blank" href="https://linkedin.com/company/law-offices-of-pritpal-singh">LinkedIn</a>
            <a class="social-link" target="_blank" href="https://yelp.com">Yelp</a>
            <a class="social-link" target="_blank" href="https://youtube.com">Youtube</a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025, Law Offices of Pritpal Singh. All rights reserved.</p>
        <div class="footer-legal"><a href="/privacy">Privacy Policy</a><a href="/terms">Terms of Service</a></div>
      </div>
    </div>
  </footer>

    <!---MOBILE NAVIGATION SNIPPET--->


<script>
(() => {
  const hamburger = document.getElementById('hamburger');
  const menu = document.getElementById('nav-menu');

  // remove inline guard so CSS can control state
  menu.removeAttribute('style');

  // Create overlay once
  const overlay = document.createElement('div');
  overlay.className = 'drawer-overlay';
  document.body.appendChild(overlay);

  // Size overlay so it doesn't cover the drawer
  function sizeOverlay(){
    const drawerWidth = Math.min(window.innerWidth * 0.86, 360); // match CSS: min(86vw,360px)
    overlay.style.position = 'fixed';
    overlay.style.top = '0';
    overlay.style.bottom = '0';
    overlay.style.left = '0';
    overlay.style.right = drawerWidth + 'px'; // leave the drawer area uncovered
  }

  function openDrawer(){
    sizeOverlay();
    menu.classList.add('open');
    hamburger.classList.add('is-active');
    overlay.classList.add('show');
    hamburger.setAttribute('aria-expanded','true');
    menu.setAttribute('aria-hidden','false');
    document.body.classList.add('no-scroll');
  }

  function closeDrawer(){
    menu.classList.remove('open');
    hamburger.classList.remove('is-active');
    overlay.classList.remove('show');
    hamburger.setAttribute('aria-expanded','false');
    menu.setAttribute('aria-hidden','true');
    document.body.classList.remove('no-scroll');
    // reset overlay to full width (optional)
    overlay.style.right = '0';
  }

  function toggleDrawer(){ menu.classList.contains('open') ? closeDrawer() : openDrawer(); }

  // Ensure closed on first paint
  closeDrawer();

  // Events
  hamburger.addEventListener('click', toggleDrawer);
  overlay.addEventListener('click', closeDrawer);
  document.addEventListener('keydown', (e) => { if(e.key === 'Escape') closeDrawer(); });

  // Close after user taps any link/button in the drawer (allow navigation)
  menu.addEventListener('click', (e) => {
    const a = e.target.closest('a, button');
    if(a){ setTimeout(closeDrawer, 0); }
  });

  // Keep overlay sized correctly on rotate/resize while open
  window.addEventListener('resize', () => {
    if(menu.classList.contains('open')) sizeOverlay();
  });

  // Desktop -> mobile transitions
  const mq = window.matchMedia('(min-width:900px)');
  function syncToViewport(e){
    if(e.matches){ // desktop
      hamburger.classList.remove('is-active');
      overlay.classList.remove('show');
      document.body.classList.remove('no-scroll');
      menu.setAttribute('aria-hidden','false');
    }else{
      if(!menu.classList.contains('open')) closeDrawer();
    }
  }
  mq.addEventListener?.('change', syncToViewport);
  syncToViewport(mq);
})();

</script>



    
  <script src="main.js"></script>
  
  
  <!-- === Client Intake (Real Estate Law) — Popup Modal === -->
<style>
  :root{
    --ps-navy:#001f54;
    --ps-orange:#ff4900;
    --ps-bg:#ffffff;
    --ps-surface:#f6f8fb;
    --ps-muted:#6b7788;
    --ps-ring:rgba(255,73,0,.35);
    --ps-radius:14px;
  }
  /* Launcher (optional secondary button; you can hide it) */
  .ps-intake-launch{
    position:fixed; right:18px; bottom:40px; z-index:9998;
    background:#ff4900; color:#fff; border:none;
    border-radius:999px; padding:12px 14px; font-weight:700;
    box-shadow:0 10px 26px rgba(0,0,0,.18); cursor:pointer;
  }
  .ps-intake-launch:focus{ outline:3px solid var(--ps-ring) }

  /* Modal shell */
  .ps-intake-modal{ position:fixed; inset:0; display:none; place-items:center;
    background:rgba(0,0,0,.35); z-index:9999; }
  .ps-intake-modal.ps-open{ display:grid }
  .ps-intake-dialog{
    width:min(100%,860px); height:min(94vh,920px); background:#fff;
    border-radius:16px; overflow:hidden; box-shadow:0 30px 80px rgba(0,0,0,.4);
    display:grid; grid-template-rows:auto 1fr auto;
  }
  @media (max-width:820px){ .ps-intake-dialog{ width:100%; height:100%; border-radius:0 } }

  /* Header */
  .ps-intake-head{
    display:flex; align-items:center; justify-content:space-between;
    padding:12px 16px; background:var(--ps-navy); color:#fff;
  }
  .ps-head-title{ display:flex; gap:10px; align-items:center; font-weight:700 }
  .ps-head-dot{ width:10px; height:10px; border-radius:50%; background:var(--ps-orange) }
  .ps-head-tools{ display:flex; gap:8px; align-items:center }
  .ps-x{ background:transparent; border:none; color:#fff; font-size:18px; cursor:pointer }

  /* Body */
  .ps-intake-body{ display:grid; grid-template-columns:260px 1fr; gap:0; min-height:0 }
  @media (max-width:820px){ .ps-intake-body{ grid-template-columns:1fr } }

  /* Step list */
  .ps-steps{
    background:var(--ps-surface); border-right:1px solid #e6eaf0; padding:14px; overflow:auto;
  }
  .ps-step{
    display:flex; gap:10px; align-items:center; padding:10px 8px; border-radius:10px; margin-bottom:6px; cursor:default;
  }
  .ps-step-num{
    flex:0 0 auto; width:26px; height:26px; border-radius:999px; display:grid; place-items:center;
    border:2px solid var(--ps-navy); color:var(--ps-navy); font-size:12px; font-weight:700; background:#fff;
  }
  .ps-step.active{ background:#fff; border:1px solid #e6eaf0 }
  .ps-step.complete .ps-step-num{ background:var(--ps-orange); color:#fff; border-color:var(--ps-orange) }
  .ps-step-label{ font-size:13px; color:#222 }

  /* Content */
  .ps-panel{ padding:16px; overflow:auto }
  .ps-grid{ display:grid; gap:12px }
  .ps-2col{ grid-template-columns:1fr 1fr }
  .ps-3col{ grid-template-columns:1fr 1fr 1fr }
  .ps-field{ display:grid; gap:6px }
  .ps-label{ font-size:13px; color:#1a2a3b; font-weight:600 }
  .ps-req{ color:#ff3b3b }
  .ps-input, .ps-select, .ps-textarea{
    width:100%; padding:10px 12px; border:1px solid #cfd9e6; border-radius:10px; font:inherit; background:#fff;
  }
  .ps-textarea{ min-height:110px; resize:vertical }
  .ps-hint{ font-size:12px; color:var(--ps-muted) }
  .ps-error{ font-size:12px; color:#b00020 }

  .ps-tags{ display:flex; gap:8px; flex-wrap:wrap }
  .ps-tag{ border:1px solid #dbe3ee; padding:6px 10px; border-radius:999px; cursor:pointer; font-size:12px; background:#fff }
  .ps-tag.selected{ background:var(--ps-orange); color:#fff; border-color:var(--ps-orange) }

  /* Footer */
  .ps-intake-foot{ display:flex; justify-content:space-between; gap:10px; padding:12px; border-top:1px solid #e6eaf0; background:#fff }
  .ps-btn{ padding:10px 14px; border-radius:10px; border:1px solid #cfd9e6; background:#fff; cursor:pointer; font-weight:700 }
  .ps-btn[disabled]{ opacity:.5; cursor:not-allowed }
  .ps-btn-primary{ background:var(--ps-orange); color:#fff; border:none }

  /* Success view */
  .ps-success{ text-align:center; padding:24px }
  .ps-check{ font-size:40px; color:var(--ps-orange) }

  .ps-disclaimer{ font-size:12px; line-height:1.5; color:#1a2a3b; background:#fff7f2; border:1px solid #ffd7c2; padding:12px; border-radius:10px }
</style>

<!-- Optional secondary launcher (you can remove if you prefer to trigger from your existing CTA)--->
<button class="ps-intake-launch" id="psIntakeOpen">Get Started</button>



<div class="ps-intake-modal" id="psIntakeModal" role="dialog" aria-modal="true" aria-label="Client intake form">
  <div class="ps-intake-dialog">
    <div class="ps-intake-head">
      <div class="ps-head-title"><span class="ps-head-dot"></span> Client Intake — Law Offices of Pritpal Singh</div>
      <div class="ps-head-tools">
        <button class="ps-x" id="psIntakeClose" title="Close">✕</button>
      </div>
    </div>

    <div class="ps-intake-body">
      <!-- Steps nav -->
      <aside class="ps-steps" id="psSteps"></aside>

      <!-- Panels -->
      <form class="ps-panel" id="psIntakeForm" novalidate>
        <!-- Step 1: Contact -->
        <section class="ps-step-panel" data-step="1">
          <div class="ps-grid ps-2col">
            <div class="ps-field">
              <label class="ps-label">First name <span class="ps-req">*</span></label>
              <input class="ps-input" name="firstName" required />
              <div class="ps-error"></div>
            </div>
            <div class="ps-field">
              <label class="ps-label">Last name <span class="ps-req">*</span></label>
              <input class="ps-input" name="lastName" required />
              <div class="ps-error"></div>
            </div>
            <div class="ps-field">
              <label class="ps-label">Email <span class="ps-req">*</span></label>
              <input class="ps-input" type="email" name="email" required />
              <div class="ps-error"></div>
            </div>
            <div class="ps-field">
              <label class="ps-label">Phone <span class="ps-req">*</span></label>
              <input class="ps-input" type="tel" name="phone" required />
              <div class="ps-error"></div>
            </div>
            <div class="ps-field">
              <label class="ps-label">Preferred contact</label>
              <select class="ps-select" name="preferredContact">
                <option value="">No preference</option>
                <option>Phone</option><option>Email</option><option>Text</option>
              </select>
            </div>
            <div class="ps-field">
              <label class="ps-label">Preferred language</label>
              <select class="ps-select" name="language">
                <option>English</option><option>Spanish</option><option>Hindi</option><option>Punjabi</option><option>Chinese</option><option>French</option><option>German</option>
              </select>
            </div>
            <div class="ps-field">
              <label class="ps-label">Best time to reach you</label>
              <input class="ps-input" name="bestTime" placeholder="e.g., Weekdays 2–5pm PT" />
            </div>
            <div class="ps-field">
              <label class="ps-label">Timezone</label>
              <input class="ps-input" name="timezone" placeholder="e.g., Pacific (PT)" />
            </div>
          </div>
        </section>

        <!-- Step 2: Property & Role -->
        <section class="ps-step-panel" data-step="2" hidden>
          <div class="ps-grid ps-2col">
            <div class="ps-field">
              <label class="ps-label">Is your matter related to a specific property? <span class="ps-req">*</span></label>
              <select class="ps-select" name="hasProperty" required>
                <option value="">Select…</option>
                <option value="yes">Yes</option>
                <option value="no">No / Not sure</option>
              </select>
              <div class="ps-hint">If yes, we’ll ask for the address next.</div>
              <div class="ps-error"></div>
            </div>
            <div class="ps-field">
              <label class="ps-label">Your role <span class="ps-req">*</span></label>
              <select class="ps-select" name="clientRole" required>
                <option value="">Select…</option>
                <option>Owner/Landlord</option><option>Tenant</option><option>Buyer</option><option>Seller</option>
                <option>Developer</option><option>HOA/Board</option><option>Broker/Agent</option><option>Other</option>
              </select>
              <div class="ps-error"></div>
            </div>
          </div>

          <!-- Property address group (conditional) -->
          <div id="psPropertyGroup" hidden style="margin-top:12px">
            <div class="ps-grid ps-2col">
              <div class="ps-field">
                <label class="ps-label">Street address</label>
                <input class="ps-input" name="propStreet" />
              </div>
              <div class="ps-field">
                <label class="ps-label">Unit/Suite</label>
                <input class="ps-input" name="propUnit" />
              </div>
              <div class="ps-field">
                <label class="ps-label">City</label>
                <input class="ps-input" name="propCity" />
              </div>
              <div class="ps-field">
                <label class="ps-label">State</label>
                <input class="ps-input" name="propState" value="CA" />
              </div>
              <div class="ps-field">
                <label class="ps-label">ZIP</label>
                <input class="ps-input" name="propZip" />
              </div>
              <div class="ps-field">
                <label class="ps-label">County</label>
                <input class="ps-input" name="propCounty" />
              </div>
            </div>
          </div>
        </section>

        <!-- Step 3: Matter Type & Background -->
        <section class="ps-step-panel" data-step="3" hidden>
          <div class="ps-field">
            <label class="ps-label">Matter category <span class="ps-req">*</span></label>
            <select class="ps-select" name="matterCategory" required>
              <option value="">Select…</option>
              <option>Real Estate Transaction</option>
              <option>Landlord–Tenant</option>
              <option>Boundary/Title Issue</option>
              <option>Quiet Title Action</option>
              <option>Premises Liability</option>
              <option>Adverse Possession</option>
              <option>Contract Drafting/Review</option>
              <option>Litigation/Dispute</option>
              <option>Other</option>
            </select>
            <div class="ps-error"></div>
          </div>
          <div class="ps-field">
            <label class="ps-label">Brief background of your matter <span class="ps-req">*</span></label>
            <textarea class="ps-textarea" name="background" required placeholder="Please include key facts, timeline, and current status…"></textarea>
            <div class="ps-hint">Aim for 5–10 sentences.</div>
            <div class="ps-error"></div>
          </div>
          <div class="ps-grid ps-2col">
            <div class="ps-field">
              <label class="ps-label">Any deadlines or court dates?</label>
              <input class="ps-input" name="deadlines" placeholder="e.g., Hearing on Sept 12, 2025" />
            </div>
            <div class="ps-field">
              <label class="ps-label">Documents available?</label>
              <select class="ps-select" name="hasDocs">
                <option>No</option><option>Yes, can share</option>
              </select>
            </div>
          </div>
        </section>

        <!-- Step 4: Desired Outcome -->
        <section class="ps-step-panel" data-step="4" hidden>
          <div class="ps-field">
            <label class="ps-label">What outcome are you hoping to achieve? <span class="ps-req">*</span></label>
            <div class="ps-tags" data-name="desiredOutcomeTags">
              <button type="button" class="ps-tag">Settle quickly</button>
              <button type="button" class="ps-tag">Quiet title</button>
              <button type="button" class="ps-tag">Evict lawfully</button>
              <button type="button" class="ps-tag">Defend against eviction</button>
              <button type="button" class="ps-tag">Close the transaction</button>
              <button type="button" class="ps-tag">Negotiate better terms</button>
              <button type="button" class="ps-tag">Seek damages</button>
              <button type="button" class="ps-tag">Other</button>
            </div>
            <input type="hidden" name="desiredOutcome" />
            <div class="ps-error"></div>
          </div>
          <div class="ps-field">
            <label class="ps-label">In your own words</label>
            <textarea class="ps-textarea" name="desiredOutcomeText" placeholder="Describe success in your own words…"></textarea>
          </div>
        </section>

        <!-- Step 5: Other Parties & Conflicts -->
        <section class="ps-step-panel" data-step="5" hidden>
          <div class="ps-field">
            <label class="ps-label">Other parties involved</label>
            <textarea class="ps-textarea" name="otherParties" placeholder="Names of individuals, companies, brokers/agents, HOAs, and any attorneys already involved…"></textarea>
          </div>
          <div class="ps-grid ps-2col">
            <div class="ps-field">
              <label class="ps-label">Have you signed any agreement(s)?</label>
              <select class="ps-select" name="signedAgreements">
                <option>No</option><option>Yes</option>
              </select>
            </div>
            <div class="ps-field">
              <label class="ps-label">How did you hear about us?</label>
              <select class="ps-select" name="referral">
                <option>Google/Search</option><option>Referral</option><option>Social Media</option><option>Yelp</option><option>Other</option>
              </select>
            </div>
          </div>
        </section>

        <!-- Step 6: Consultation Preferences -->
        <section class="ps-step-panel" data-step="6" hidden>
          <div class="ps-field">
            <label class="ps-label">Consultation type <span class="ps-req">*</span></label>
            <select class="ps-select" name="consultType" required>
              <option value="">Select…</option>
              <option>Free 15-minute (Phone or Zoom)</option>
              <option>Paid 60-minute ($350, In person or Zoom)</option>
            </select>
            <div class="ps-error"></div>
          </div>
          <div class="ps-grid ps-2col">
            <div class="ps-field">
              <label class="ps-label">Preferred format</label>
              <select class="ps-select" name="consultMode">
                <option>Phone</option><option>Zoom</option><option>In person</option>
              </select>
            </div>
            <div class="ps-field">
              <label class="ps-label">Payment preference</label>
              <select class="ps-select" name="paymentPref">
                <option>LawPay portal</option><option>Stripe (send link)</option><option>Not sure</option>
              </select>
            </div>
          </div>
          <div class="ps-grid ps-3col" style="margin-top:8px">
            <div class="ps-field"><label class="ps-label">Preferred time 1</label><input class="ps-input" type="datetime-local" name="slot1" /></div>
            <div class="ps-field"><label class="ps-label">Preferred time 2</label><input class="ps-input" type="datetime-local" name="slot2" /></div>
            <div class="ps-field"><label class="ps-label">Preferred time 3</label><input class="ps-input" type="datetime-local" name="slot3" /></div>
          </div>
          <div class="ps-field">
            <label class="ps-label">Budget / fee expectations</label>
            <select class="ps-select" name="budget">
              <option>Undisclosed</option><option>Under $1,000</option><option>$1,000–$3,000</option><option>$3,000–$7,500</option><option>$7,500–$15,000</option><option>$15,000+</option>
            </select>
          </div>
        </section>

        <!-- Step 7: Disclaimer & Submit -->
        <section class="ps-step-panel" data-step="7" hidden>
          <div class="ps-disclaimer" style="margin-bottom:10px">
            <strong>Disclaimer</strong><br>
            “I acknowledge and understand that the submission of this form does not create an attorney-client relationship with the Law Offices of Pritpal Singh (the "Firm") unless and until a retainer agreement has been executed between myself and the Firm. I further I acknowledge and understand that because the Firm may not be able to fully evaluate a matter within the time frame allotted for the consultation, the Firm's assessment will be based solely on the information I provide without any further investigation. I agree to these foregoing terms and conditions.”
          </div>
          <label style="display:flex; gap:8px; align-items:flex-start">
            <input type="checkbox" name="ack" required style="margin-top:4px" />
            <span class="ps-label">I agree to the above disclaimer. <span class="ps-req">*</span></span>
          </label>
          <div class="ps-error" data-error-for="ack"></div>

          <div class="ps-hint" style="margin-top:8px">By submitting, you consent to be contacted at the details provided.</div>
        </section>
      </form>
    </div>

    <div class="ps-intake-foot">
      <button class="ps-btn" id="psBack" disabled>Back</button>
      <div style="display:flex; gap:8px">
        <button class="ps-btn" id="psSave">Save & Continue Later</button>
        <button class="ps-btn ps-btn-primary" id="psNext">Next</button>
        <button class="ps-btn ps-btn-primary" id="psSubmit" hidden>Submit</button>
      </div>
    </div>
  </div>
</div>

<script>
(() => {
  const modal = document.getElementById('psIntakeModal');
  const openBtn = document.getElementById('psIntakeOpen'); // optional secondary launcher
  const closeBtn = document.getElementById('psIntakeClose');
  const form = document.getElementById('psIntakeForm');
  const stepsNav = document.getElementById('psSteps');
  const panels = Array.from(form.querySelectorAll('.ps-step-panel'));
  const backBtn = document.getElementById('psBack');
  const nextBtn = document.getElementById('psNext');
  const submitBtn = document.getElementById('psSubmit');
  const saveBtn = document.getElementById('psSave');

  const stepMeta = [
    'Contact',
    'Property & Role',
    'Matter Background',
    'Desired Outcome',
    'Other Parties',
    'Consult Preference',
    'Disclaimer'
  ];

  let step = 1;

  // Build side stepper
  function renderSteps(){
    stepsNav.innerHTML = '';
    stepMeta.forEach((label, i) => {
      const idx = i+1;
      const item = document.createElement('div');
      item.className = 'ps-step'+(idx===step?' active':'')+(idx<step?' complete':'');
      item.innerHTML = `<div class="ps-step-num">${idx}</div><div class="ps-step-label">${label}</div>`;
      stepsNav.appendChild(item);
    });
  }

  function showStep(n){
    step = n;
    panels.forEach(p => p.hidden = Number(p.dataset.step)!==step);
    backBtn.disabled = step===1;
    nextBtn.hidden = step===panels.length;
    submitBtn.hidden = step!==panels.length;
    renderSteps();
  }

  // Validation helpers
  function validateStep(){
    let valid = true;
    const panel = panels.find(p => Number(p.dataset.step)===step);
    // Clear previous errors
    panel.querySelectorAll('.ps-error').forEach(e => e.textContent='');

    // Required inputs/selects/checkboxes inside this panel
    panel.querySelectorAll('[required]').forEach(el => {
      if(el.type==='checkbox'){
        if(!el.checked){ valid=false; const holder = panel.querySelector('[data-error-for="'+el.name+'"]') || el.closest('.ps-field')?.querySelector('.ps-error'); if(holder) holder.textContent='This field is required.'; }
      } else if(!el.value.trim()){
        valid=false;
        const err = el.closest('.ps-field')?.querySelector('.ps-error');
        if(err) err.textContent = 'This field is required.';
      } else if(el.type==='email' && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(el.value)){
        valid=false;
        const err = el.closest('.ps-field')?.querySelector('.ps-error');
        if(err) err.textContent = 'Enter a valid email.';
      }
    });

    // Step 2 conditional property address requirement (only if "yes")
    if(step===2){
      const hasProp = form.hasProperty.value === 'yes';
      document.getElementById('psPropertyGroup').hidden = !hasProp;
      // no hard requirement, but you can enforce if needed:
      // if(hasProp && !form.propStreet.value.trim()){ valid=false; ... }
    }

    // Step 4 desired outcome tags must have at least 1
    if(step===4){
      if(!form.desiredOutcome.value.trim()){
        valid=false;
        const panelErr = panels[3].querySelector('.ps-field .ps-error');
        if(panelErr) panelErr.textContent = 'Select at least one desired outcome.';
      }
    }

    return valid;
  }

  function gatherPayload(){
    const fd = new FormData(form);
    // tags were stored as CSV in hidden input
    const payload = Object.fromEntries(fd.entries());
    payload._submittedAt = new Date().toISOString();
    // basic derived data
    payload.fullName = `${payload.firstName||''} ${payload.lastName||''}`.trim();
    return payload;
  }

  function saveDraft(){
    localStorage.setItem('ps_intake_draft', JSON.stringify(gatherPayload()));
  }
  function loadDraft(){
    const raw = localStorage.getItem('ps_intake_draft');
    if(!raw) return;
    try{
      const data = JSON.parse(raw);
      Object.keys(data).forEach(k => {
        const el = form.elements[k];
        if(!el) return;
        if(el.type==='checkbox') el.checked = !!data[k];
        else el.value = data[k];
      });
      // reflect property UI
      document.getElementById('psPropertyGroup').hidden = form.hasProperty.value!=='yes';
      // reflect selected tags
      syncTagsFromHidden();
    }catch{}
  }

  // Tag UI for desired outcomes
  const tagContainer = form.querySelector('[data-name="desiredOutcomeTags"]');
  const hiddenTagInput = form.desiredOutcome;
  function syncHiddenFromTags(){
    const selected = Array.from(tagContainer.querySelectorAll('.ps-tag.selected')).map(b => b.textContent.trim());
    hiddenTagInput.value = selected.join(', ');
  }
  function syncTagsFromHidden(){
    const selected = (hiddenTagInput.value || '').split(',').map(s=>s.trim()).filter(Boolean);
    tagContainer.querySelectorAll('.ps-tag').forEach(b => {
      b.classList.toggle('selected', selected.includes(b.textContent.trim()));
    });
  }
  tagContainer.addEventListener('click', e => {
    const b = e.target.closest('.ps-tag'); if(!b) return;
    b.classList.toggle('selected'); syncHiddenFromTags();
  });

  // Navigation
  nextBtn.addEventListener('click', () => {
    if(!validateStep()) return;
    if(step < panels.length) showStep(step+1);
  });
  backBtn.addEventListener('click', () => { if(step>1) showStep(step-1); });
  saveBtn.addEventListener('click', saveDraft);

  // Submit -> POST to your backend
  submitBtn.addEventListener('click', async () => {
    if(!validateStep()) return;

    const payload = gatherPayload();
    submitBtn.disabled = true; submitBtn.textContent = 'Submitting…';

    try{
      const r = await fetch('/api/intake-submit', {
        method:'POST', headers:{ 'Content-Type':'application/json' },
        body: JSON.stringify(payload)
      });
      if(!r.ok) throw new Error(await r.text());

      localStorage.removeItem('ps_intake_draft');
      // Success view
      const wrapper = document.createElement('div');
      wrapper.className = 'ps-success';
      wrapper.innerHTML = `<div class="ps-check">✅</div>
        <h3>Thank you!</h3>
        <p>We’ve received your intake. Our team will reach out soon to confirm your consultation.</p>
        <p>If you chose a paid consultation, you may complete payment anytime at <a href="/pay-my-bill" target="_blank">our LawPay portal</a>.</p>
        <div style="margin-top:12px">
          <button class="ps-btn" onclick="document.getElementById('psIntakeModal').classList.remove('ps-open')">Close</button>
        </div>`;
      const body = document.querySelector('#psIntakeModal .ps-intake-body');
      const foot = document.querySelector('#psIntakeModal .ps-intake-foot');
      body.innerHTML = ''; body.appendChild(wrapper); foot.style.display='none';
    }catch(err){
      alert('There was a problem submitting your intake. Please try again or call (510) 225-9220.');
    }finally{
      submitBtn.disabled = false; submitBtn.textContent = 'Submit';
    }
  });

  // Open/close
  function open(){ modal.classList.add('ps-open'); renderSteps(); showStep(1); loadDraft(); }
  function close(){ modal.classList.remove('ps-open'); }
  openBtn?.addEventListener('click', open);
  closeBtn?.addEventListener('click', close);

  // Automatically intercept CTA buttons if you add data attribute (see section 2 below)
  document.addEventListener('click', (e) => {
    const a = e.target.closest('[data-ps-intake-open]');
    if(a){ e.preventDefault(); open(); }
  });

  // Property conditional UI
  form.hasProperty.addEventListener('change', () => {
    document.getElementById('psPropertyGroup').hidden = (form.hasProperty.value!=='yes');
  });

  // Prefill timezone
  try{ form.timezone.value = Intl.DateTimeFormat().resolvedOptions().timeZone || ''; }catch{}
})();
</script>
<!-- === /Client Intake Modal === -->
  

  <!-- Webflow JS (needed for the nav) -->
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js" crossorigin="anonymous"></script>
  <script src="https://assets-global.website-files.com/64785fe0a8b931af3b0da218/js/sterlingelysium.e5b357d9e.js"></script>

</body>
</html>
